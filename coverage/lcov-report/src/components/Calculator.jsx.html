<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/components/Calculator.jsx</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">All files</a> / <a href="index.html">src/components</a> Calculator.jsx
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">14.29% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>3/21</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/13</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">66.67% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>2/3</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">14.29% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>3/21</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
<<<<<<< HEAD
132</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
=======
132
133
134
135</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
>>>>>>> comp150-js
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<<<<<<< HEAD
=======
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
>>>>>>> comp150-js
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import React, {Component} from "react"
import { sum, difference, multiply, divide } from './js/math'
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import './css/Calculator.css';
&nbsp;
class Calculator extends Component {
    constructor() {
        super()
        this.state = {
            argument1: '0',
            argument2: '0',
            mathOperator: '+',
            result: '0'
        }
    }
    
    // Any time there is an input event:
    // - check the inputs and update state
    // - calculate the result of the expression and update state
    changeHandler = <span class="fstat-no" title="function not covered" >ev</span>ent =&gt; {
        // obtain data on event from 'target' object
        const {name, value, type, checked} = <span class="cstat-no" title="statement not covered" >event.target</span>
&nbsp;
        // Update state based on input received
        // (NOTE: not using 'checkbox' inputs anymore, but leaving the special
        // handling for checkboxes in for future reference...)
<span class="cstat-no" title="statement not covered" >        type === 'checkbox' ? this.setState({ [name] : checked }) : this.setState({ [name] : value })</span>
&nbsp;
        // calculate result
        //
        // NOTE: It is CRITICAL to check which input ('argument1' or 'argument2') was just updated via input,
        //       and then use that value in the calculation, with the other argument alone
        //       being obtained from state.
        //       Even though state has ostensibly been updated at this point, cannot just
        //       pull both arguments from state and calculate (if this *is* done, the calculated
        //       result appears to lag a bit behind new inputs, by 1 step) SEE:
        //          "due to the asynchronous nature of setState, you have no guarantee you
        //           will have immediate access to this.state after setState has been called"
        //       https://stackoverflow.com/questions/41896878/react-setstate-getstate-and-asynchronous
        const argument1 = <span class="cstat-no" title="statement not covered" >name === 'argument1' ? value : this.state.argument1</span>
        const argument2 = <span class="cstat-no" title="statement not covered" >name === 'argument2' ? value : this.state.argument2</span>
        const mathOperator = <span class="cstat-no" title="statement not covered" >name === 'mathOperator' ? value : this.state.mathOperator</span>
&nbsp;
        let tempResult = <span class="cstat-no" title="statement not covered" >''</span>
<span class="cstat-no" title="statement not covered" >        switch(mathOperator) {</span>
            case '+':
<span class="cstat-no" title="statement not covered" >            tempResult = sum(parseFloat(argument1), parseFloat(argument2))</span>
<span class="cstat-no" title="statement not covered" >            break</span>
            
            case '-':
<span class="cstat-no" title="statement not covered" >            tempResult = difference(parseFloat(argument1), parseFloat(argument2))</span>
<span class="cstat-no" title="statement not covered" >            break</span>
            
            case 'x':
<span class="cstat-no" title="statement not covered" >            tempResult = multiply(parseFloat(argument1), parseFloat(argument2))</span>
<span class="cstat-no" title="statement not covered" >            break</span>
            
            case '/':
<span class="cstat-no" title="statement not covered" >            tempResult = divide(parseFloat(argument1), parseFloat(argument2))</span>
<span class="cstat-no" title="statement not covered" >            break</span>
            
            default:
<span class="cstat-no" title="statement not covered" >            tempResult = undefined</span>
<span class="cstat-no" title="statement not covered" >            break</span>
        }
<span class="cstat-no" title="statement not covered" >        this.setState({ result : tempResult })</span>
    }
&nbsp;
    render() {
        return (
            &lt;div id='Calculator'&gt;
                &lt;h2&gt;
                    A &lt;em&gt;calculator!?&amp;nbsp;&amp;nbsp;&lt;/em&gt; 
                    &lt;FontAwesomeIcon icon='surprise' size="1x" /&gt;
                &lt;/h2&gt;
                &lt;input 
                    type="number"
                    className='basic'
                    value={this.state.argument1}
                    name="argument1"
                    onChange={this.changeHandler}
                /&gt;
<<<<<<< HEAD
=======
                &lt;span className='inputspacer'&gt;&lt;/span&gt;
                &lt;input 
                    type="number"
                    className='basic'
                    value={this.state.argument2}
                    name="argument2"
                    onChange={this.changeHandler}
                /&gt;
                
>>>>>>> comp150-js
                &lt;ul&gt;
                    &lt;li&gt;
                        &lt;input type="radio" name="mathOperator" id="add" value="+"
                            checked={this.state.mathOperator === "+"}
                            onChange={this.changeHandler} /&gt;
                        &lt;label htmlFor="add"&gt;
                            &lt;FontAwesomeIcon className="grow" icon='plus'size="1x" /&gt;
                        &lt;/label&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;input type="radio" name="mathOperator" id="subtract" value="-"
                            checked={this.state.mathOperator === "-"}
                            onChange={this.changeHandler} /&gt;
                        &lt;label htmlFor="subtract"&gt;
                            &lt;FontAwesomeIcon className="grow" icon='minus' size="1x" /&gt;
                        &lt;/label&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;input type="radio" name="mathOperator" id="multiply" value="x"
                            checked={this.state.mathOperator === "x"}
                            onChange={this.changeHandler} /&gt;
                        &lt;label htmlFor="multiply"&gt;
                            &lt;FontAwesomeIcon className="grow" icon='times' size="1x" /&gt;
                        &lt;/label&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;input type="radio" name="mathOperator" id="divide" value="/"
                            checked={this.state.mathOperator === "/"}
                            onChange={this.changeHandler} /&gt;
                        &lt;label htmlFor="divide"&gt;
                            &lt;FontAwesomeIcon className="grow" icon='divide' size="1x" /&gt;
                        &lt;/label&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
<<<<<<< HEAD
                &lt;input 
                    type="number"
                    className='basic'
                    value={this.state.argument2}
                    name="argument2"
                    onChange={this.changeHandler}
                /&gt;
                &lt;h2&gt;
                    {this.state.argument1} {this.state.mathOperator} {this.state.argument2} = {(+this.state.result).toFixed(2)}
                &lt;/h2&gt;
=======
&nbsp;
                &lt;h2&gt;{this.state.argument1} {this.state.mathOperator} {this.state.argument2} = {(+this.state.result).toFixed(2)}&lt;/h2&gt;
&nbsp;
>>>>>>> comp150-js
            &lt;/div&gt;
        )
    }
}
&nbsp;
export default Calculator</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
<<<<<<< HEAD
<<<<<<< HEAD
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Thu Apr 18 2019 17:18:41 GMT-0600 (Mountain Daylight Time)
=======
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Thu Apr 18 2019 19:11:00 GMT-0600 (Mountain Daylight Time)
>>>>>>> comp150-js
=======
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Thu Apr 18 2019 19:46:21 GMT-0600 (Mountain Daylight Time)
>>>>>>> comp150-js
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
